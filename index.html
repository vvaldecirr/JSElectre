<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="author" content="Valdecir S. Pereira">
<title>JSElectre 1.0</title>
<link rel="stylesheet" href="view/css/style.css" type="text/css" media="screen" />
<!-- <script type="text/javascript" src="model/Matrix.js"></script> -->
<!-- <script type="text/javascript" src="control/Controlador.js"></script> -->
</head>
<body>

<!-- 
-->
<table border="0" width="100%" id="header" cellspacing="0">
	<tr>
		<td width="100"><img alt="IME" src="view/img/ime.png" width="100" height="120"></td>
		<td align="center">
			<h2>JSElectre 1.0 <img alt="IME" src="view/img/brazil.png" width="25" height="18"></h2>
			<h3>Military Engineering Institute (IME)</h3>
			<h4>Information System's Master</h4>
			<h5>Computational Platforms Development to Decision Taking Supports</h5>
			<h5>Professor: Marcos Santos / Student: <a href="mailto:vvaldecirr@hotmail.com">Valdecir S. Pereira</a> - (update: 2019)</h5>
		</td>
		<td width="100" bgcolor="#b5dbea"><img alt="HTML - JS - CSS" src="view/img/language.png" width="100" height="120"></td>
	</tr>
</table>

<table border="0" width="100%">
	<tr>
		<td align="center" colspan="2">
			<table border="0"><tr><td>
				<fieldset>
				    <legend>size of matrix:</legend>
					<form id="dimentions" action="index.html">
						<table border="0" width="100">
							<tr><td><img src="view/img/arrows.png" width="50" height="50" /></td><td align="right" valign="top">
								criteries:<br />
								<input class='inputmtx' id="cols" type="number" max="26" min="1" placeholder="nº">
							</td></tr>
							<tr><td>
								elements:<br />
								<input class='inputmtx' id="rows" type="number" max="26" min="1" placeholder="nº"><br />
							</td><td align="right" valign="bottom"><input type="submit" value="   new   "></td></tr>
						</table>
					</form>
				</fieldset>
			</td></tr></table>
		</td>
	</tr>
	
	<tr>
		<td align="right">
			<table border="0"><tr><td>
				<fieldset>
				    <legend>performance matrix:</legend>
						<form id="matrix" action="index.html">
							<div id="matrix-input"></div>
						</form>
				</fieldset>	
			</td></tr></table>

			<table border="0"><tr><td>
				<fieldset>
				    <legend>best team:</legend>
					<div id="team-table"></div>
				</fieldset>
			</td></tr></table>

			<table border="0"><tr><td>
				<fieldset>
				    <legend>dinamic graph:</legend>
					<div id="graph-table"></div>
				</fieldset>
			</td></tr></table>
		</td>
		<td align="left">
			<table border="0"><tr><td>
				<fieldset>
				    <legend>concordance matrix:</legend>
					<div id="concordance-matrix"></div>
				</fieldset>
			</td></tr></table>
			
			<table border="0"><tr><td>
				<fieldset>
				    <legend>discordance matrix:</legend>
					<div id="discordance-matrix"></div>
				</fieldset>
			</td></tr></table>

			<table border="0"><tr><td>
				<fieldset>
				    <legend>credibility matrix:</legend>
					<div id="credibility-matrix"></div>
				</fieldset>
			</td></tr></table>
		</td>
	</tr>
</table>

<script type="text/javascript" src="view/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="control/electreFunctions.js"></script>
<script>
	var text, cmatrixhtml, dmatrixhtml, smatrixhtml, teamhtml, rows, cols, maxdelta, pmatrix, cmatrix, dmatrix, smatrix, concordance, discordance, i, j, k, l, weight;
	var elementnames	= ["eA", "eB", "eC", "eD", "eE", "eF", "eG", "eH", "eI", "eJ", "eK", "eL", "eM", "eN", "eO", "eP", "eQ", "eR", "eS", "eT", "eW", "eU", "eV", "eX", "eY", "eZ", ];
	var criterianames	= ["cA", "cB", "cC", "cD", "cE", "cF", "cG", "cH", "cI", "cJ", "cK", "cL", "cM", "cN", "cO", "cP", "cQ", "cR", "cS", "cT", "cW", "cU", "cV", "cX", "cY", "cZ", ];

	// script that get the size of matrix entry and generate the performance matrix
	$( "#dimentions" ).submit(function( event ) {

		rows = $("#rows").val();
		cols = $("#cols").val();

		$("#matrix-input").html("");
		
		$("#matrix-input").append("<input class='inputmtx' id='concordance' type='number' step='0.01' max='1' min='0' value='1'> ^c<br /><input class='inputmtx' id='discordance' type='number' step='0.01' max='1' min='0' value='0'> ^d<br /><br />");

		// fill array pmvalues[i][j] named "pmvaluesl_c_"
		text = "<table border='0' id='pmatrix-table'>";

		for (i=0; i<rows; i++) {
			text += "<tr>";

			if (i==0) // verifying if it's the first cell of table for keep it empty 
				text += "<th></th>";

			if (i==0) { // filling with titles
				for (k=0; k<cols; k++)
					text += "<th align='center'>"+criterianames[k]+"</th>";
			} else {
				for (j=0; j<cols; j++) {
					if (j==0) {
						text += "<th align='center'>"+elementnames[i-1]+"</th><td><input class='inputmtx' id='pmvaluesl"+(i-1)+"c"+j+"' type='number' value='0'></td>";
					} else
						text += "<td><input class='inputmtx' id='pmvaluesl"+(i-1)+"c"+j+"' type='number' value='0'></td>";
				}
			}
			
			text += "</tr>";
			
		}

		for (l=0; l<cols; l++) {
			if (l==0) {
				text += "<th align='center'>"+elementnames[i-1]+"</th><td><input class='inputmtx' id='pmvaluesl"+(i-1)+"c"+l+"' type='number' value='0'></td>";
			} else
				text += "<td><input class='inputmtx' id='pmvaluesl"+(i-1)+"c"+l+"' type='number' value='0'></td>";
		} 

		//last line
		text += "<tr>";
		for (l=0; l<cols; l++) {
			if (l==0) {
				text += "<th align='center' height='40'>weight: </tH><td><input class='inputmtx' id='pmvaluesl"+i+"c"+l+"' type='number' value='0'></td>";
			} else
				text += "<td height='40'><input class='inputmtx' id='pmvaluesl"+i+"c"+l+"' type='number' value='0'></td>";
		} 
		text += "</tr>";

		text += "</table>";

		$("#matrix-input").append(text);

		$("#matrix-input").append("<input id='pmatrixbtn' type='submit' value='calculate'>");
		
		event.preventDefault();
	});

	// script that get the values of performance matrix and full fill the other matrix already souwing the results	
	$( "#matrix" ).submit(function( event ) {
		// show form to filling the perfiormance matrix
		showPerformanceForm();
		
		// calculate the maximun delta
		findMaxDelta();
		
		// filling the concordance matrix table
		$("#concordance-matrix").html("");
		showConcordanceMatrixTable();

		// filling the concordance matrix table
		$("#discordance-matrix").html("");
		showDiscordanceMatrixTable();
		
		// filling the credibility matrix table
		$("#credibility-matrix").html("");
		showCredibilityMatrixTable();
		
		// filling the team table
		$("#team-table").html("");
		showTeamTable();
		
		event.preventDefault();
	});
</script>
 
<a href="view/arbor/demos/index.html#/js-electre-1">graph</a> 

</body>
</html>
