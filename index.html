<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="author" content="Valdecir S. Pereira">
<title>JSElectre 1.0</title>
<link rel="stylesheet" href="view/css/style.css" type="text/css" media="screen" />
<!-- <script type="text/javascript" src="model/Matrix.js"></script> -->
<!-- <script type="text/javascript" src="control/Controlador.js"></script> -->
</head>
<body>

<!-- <center><h3>JSElectre 1.0</h3></center>
<center><h5>Valdecir S. Pereira</h5></center> -->

<fieldset>
    <legend>size of matrix:</legend>
	<form id="dimentions" action="index.html">
		<table border="0">
			<tr><td><img src="view/img/arrows.png" width="50" height="50" /></td><td align="right" valign="top">
				criteries:<br />
				<input class='inputmtx' id="cols" type="number" max="26" min="1" placeholder="nº">
			</td></tr>
			<tr><td>
				elements:<br />
				<input class='inputmtx' id="rows" type="number" max="26" min="1" placeholder="nº"><br />
			</td><td align="right" valign="bottom"><input type="submit" value="   new   "></td></tr>
		</table>
	</form>
</fieldset>

<fieldset>
    <legend>performance matrix:</legend>
		<form id="matrix" action="index.html">
			<div id="matrix-input"></div>
		</form>
</fieldset>

<div id="table"></div>

<script type="text/javascript" src="view/jquery-1.7.1.min.js"></script>
<script>
	var text, rows, cols, concordance, discordance, pmatrix, maxdelta;
	var elementnames	= ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "W", "U", "V", "X", "Y", "Z", ];
	var criterianames	= ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "W", "U", "V", "X", "Y", "Z", ];

	// script that get the size of matrix entry and generate the performance matrix
	$( "#dimentions" ).submit(function( event ) {
		rows = $("#rows").val();
		cols = $("#cols").val();
		
		//var pmatrix = [rows];

		$("#matrix-input").html("");
		
		$("#matrix-input").append("<input class='inputmtx' id='concordance' type='number' step='0.01' max='1' min='0' value='1'> ^c<br /><input class='inputmtx' id='discordance' type='number' step='0.01' max='1' min='0' value='0'> ^d<br /><br />");

		// fill array pmvalues[i][j] named "pmvalueslicj"
		text = "<table border='1'>";

		for (i=0; i<rows; i++) {
			text += "<tr>";

			if (i==0) // verifying if it's the first cell of table for keep it empty 
				text += "<td></td>";
			if (i==0) { // filling with titles
				for (k=0; k<cols; k++)
					text += "<td align='center'>"+criterianames[k]+"</td>";
			} else {
				
				for (j=0; j<cols; j++) {

					
					
					
					if (j==0) {
						text += "<td align='center'>"+elementnames[i-1]+"</td>";
					} else
						text += "<td><input class='inputmtx' id='pmvaluesl"+i+"c"+j+"' type='number' value='0'></td>";

						
						
					
				} 
					
			}
			text += "</tr>";
			
			//console.log(">>>");
		}
		text += "</table>";

		$("#matrix-input").append(text);

		$("#matrix-input").append("<br /><input id='pmatrixbtn' type='submit' value='calculate'>");
		
		event.preventDefault();
	});

	// script that get the values of performance matrix and full fill the other matrix already souwing the results	
	$( "#matrix" ).submit(function( event ) {
		// getting overclassification indexes
		concordance = ($("#concordance").val());
		discordance = ($("#discordance").val());

		// criating a multidimentional array as pmatrix with form values
		pmatrix = [];
		for (var i = 0; i < rows; i++) {
			pmatrix[i] = new Array(); // elements
			
			for (var j = 0; j < cols; j++) {
				pmatrix[i][j] = ($("#pmvaluesl"+i+"c"+j).val()); // criteries
			}
		}
		console.log(pmatrix);
		
		// calculate the maxdelta
		
		
		event.preventDefault();
	});
</script>

<a href="view/arbor/demos/index.html#/js-electre-1">graph</a> 

</body>
</html>
